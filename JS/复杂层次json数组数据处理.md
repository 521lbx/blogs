### 复杂层次json数组数据处理

使用JSON.stringify方法的第二参数(传入函数)实现

```
// 数据源
let pageData =  {
        'requisition': {},
        'ris_study': {
          'ACCURATE': 'MA==',
          'ACCURATEIMAGE': 'MA==',
          'AIFLAG': 'MA==',
          'AISUMMARY': 'MA==',
          'ALLERGICHISTORY': 'LTE=',
          'APPHOSPITAL': '5pys6Zmi',
          'APPLYDEPARTMENT': '5pmu6YCa5aSW56eR5LqM55eF5oi/',
          'APPLYDOCTOR': 'MjAyMC81LzEzIDE1OjE2OjA3',
          'APPOINTMENTFLAG': 'MA==',
          'BURN_CD_STATE': 'MA==',
          'BURN_CD_USER': 'MA==',
          'CLINICALINFO': 'MA==',
          'CONSULTATIONFLAG': 'MQ==',
          'DBID': 'MTAzNw==',
          'DB_SYN_MARK': 'MTAzNw==',
          'DEPARTMENTID': 'MQ==',
          'DEPTSTUDYID': 'QmQyMDA1MDYwMDAy',
          'DEVICENAME': '5rS75L2T57uE57uH5qOA5p+l',
          'DEVICETYPENAME': '57uE57uH5a2m',
          'DISABLEFLAG': 'MA==',
          'DOCTORID1': 'Ymw=',
          'DOCTORID2': 'Ymw=',
          'DOCTORID3': 'Ymw=',
          'DOCTORID4': 'Ymw=',
          'DOCTORID5': 'Ymw=',
          'DOCTORID6': 'Ymw=',
          'DOCTORTIME1': 'MA==',
          'DOCTORTIME2': 'MA==',
          'DOCTORTIME3': 'MA==',
          'DOCTORTIME4': 'MA==',
          'DOCTORTIME5': 'MA==',
          'DOCTORTIME6': 'MA==',
          'DSTUDYUID': 'MQ==',
          'EMERGENCYFLAG': 'MA==',
          'EXPOSURESTATUS': 'MA==',
          'FEETYPE': 'LTE=',
          'FILMSTATE': 'MA==',
          'FOLLOWUPSTATE': 'MA==',
          'FREEZENUMBER': 'MA==',
          'HISAPPLICATIONID': 'MA==',
          'HOSPITALID': 'MA==',
          'HPVNUMBER': 'MA==',
          'IFQA': 'MjAyMC81LzYgMTU6NDA6MzM=',
          'IMAGECOUNT': 'MA==',
          'INFECTIONFLAG': 'MA==',
          'LASTMENSESDATE': 'MjAyMC81LzYgMTU6Mjk6Mjc=',
          'LOCKFLAG': 'MQ==',
          'LOCKUSERID': 'Ymw=',
          'MAINXEGUID': 'MA==',
          'MENOPAUSEFLAG': 'MjAyMC81LzYgMTU6Mjk6Mjc=',
          'MPPSINSTANCEUID': 'MA==',
          'NAKEDEYESEE': '5Lq65pyJ5LiJ5oCl',
          'OPERATETIME': 'MjAyMC81LzEzIDE1OjE2OjEw',
          'OPERATORID': 'Ymw=',
          'ORDERNUMBER': 'MA==',
          'PATIENTADDRESS': '5aWz',
          'PATIENTAGE': 'MzQ=',
          'PATIENTAGEUNIT': '5bKB',
          'PATIENTBIRTHDAY': 'MTk4Ni8xLzE=',
          'PATIENTENAME': 'QklORyBMSSBDRSBTSEk=',
          'PATIENTFOLK': '5rGJ5peP',
          'PATIENTHEIGHT': 'MA==',
          'PATIENTIDNUMBER': '5aWz',
          'PATIENTINPATIENTID': 'MjMxMjMxMjM=',
          'PATIENTNAME': '55eF55CG5rWL6K+V',
          'PATIENTOUTPATIENTID': '5L2P6Zmi',
          'PATIENTPHONENUMBER': '5aWz',
          'PATIENTSEX': '5aWz',
          'PATIENTSICKBED': '5rGJ5peP',
          'PATIENTSICKROOM': '5rGJ5peP',
          'PATIENTTYPENAME': '5L2P6Zmi',
          'PATIENTUID': 'MQ==',
          'PATIENTWEIGHT': 'MA==',
          'PERFORMINGPHYSICIANNAME': 'MA==',
          'POSITIVEFLAG': 'MQ==',
          'PRIORFLAG': 'MA==',
          'QUEUEID': '5Y6f5aeL',
          'QUEUENO': 'MA==',
          'READIMAGEFLAG': 'MA==',
          'RECEIVESAMPLETIME': 'MjAyMC81LzYgMTU6Mjk6Mjc=',
          'REFUSEFLAG': 'MA==',
          'REFUSEREASON': 'MA==',
          'REGISTERTIME': 'MjAyMC81LzYgMTU6NDA6MzM=',
          'REGTIME4CENTER': 'MjAyMC81LzYgMTU6NDA6MzM=',
          'REMARK': 'MjAyMC81LzEzIDE1OjE2OjEw',
          'REPORTADVICE': '6IK65pyq5YiG5YyW5aSn57uG6IOe55mM44CCDQoNCg==',
          'REPORTDESC': '5aSn5L2TOuiCuue7hOe7hyAxNmNteCAxMmNteCA1Y23vvIzliIfpnaLot53ogrrpl6ggM2Nt5aSE5pyJ5LiAIDbvvI41Y20gWCAzLjVjbSBYIDIuNWNt6IK/54mp77yM5pyJ57qk57u057uE57uH5YyF57uV77yM55WM6ZmQ5riF5qWa77yM6IK/54mp6Imy5omA57qi77yM6LSo6L6D6L2v77yM5Lit5aSu5Z2P5q2744CCDQoNCumVnOajgO+8mueZjOe7huiDnuaOkuWIl+aIkOeJh+eKtuOAgeS5s+WktOeKtuOAgeW3oueKtu+8jOeZjOe7huiDnuS9k+enr+i+g+Wkp++8jOacieaYjuaYvuW8guWei+aAp++8jOe7huiDnuWkp+WkmuaVsOWRiOWkmui+ueW9ouaIluWchuW9ou+8jOiDnua1huS4sOWvjO+8jOaguOWkp++8jOacieaYjuaYvuaguOS7ge+8jOWPr+ingeWNleaguOWPiuWkmuaguOeYpOW3qOe7huiDnu+8jOaguOWIhuijguixoeWkmuinge+8jOacieWdj+atu++8jOeYpOe7huiDnuaXouS4jeWFt+aciemznueZjOe7huiDnueahOinkuWMluePoOaIlue7huiDnumXtOahpe+8jOS5n+aXoOiFuueZjOeahOiFuuiFlOe7k+aehOaIluS6p+eUn+eymOa2suOAgg0KDQo=',
          'REPORTDIAGNOSE': '6IK65pyq5YiG5YyW5aSn57uG6IOe55mM44CCDQoNCg==',
          'REPORTSIGNATURE': 'MA==',
          'REPORTTIME': 'MjAyMC81LzEzIDE1OjE2OjA3',
          'RPTPRINTFLAG': 'MA==',
          'RPTVERIFIEDTIME': 'MA==',
          'RPTWRITTENTIME': 'MA==',
          'SAMPLEACCEPTDOCTOR': '5Y6f5aeL',
          'SAMPLECONDITION': '5ZCI5qC8',
          'SAMPLEINFO': 'MA==',
          'SAMPLEINPUTPERSON': '6ZSQ6L6+5aec5ree',
          'SAMPLEREMAINDERDESC': '5bi46KeE5L+d55WZ',
          'SAMPLEREMAINDERLOC': 'MzM=',
          'SAMPLETYPE': '5Y6f5aeL',
          'SAMPLEUNFITREASON': '5ZCI5qC8',
          'SCHEDULEDTIME': 'MA==',
          'SOCIETYID': 'MA==',
          'STUDYCOMMENT': 'MA==',
          'STUDYDESCRIBE': '5rS75L2T57uE57uH5qOA5p+l',
          'STUDYID': 'QkwyMDA1MDYwMDAx',
          'STUDYSTATUS': 'NzA=',
          'STUDYTIME': 'MjAyMC81LzYgMTU6Mjk6Mjc=',
          'TEMPSAVEFLAG': 'MA==',
          'TOTALFEE': 'MA==',
          'USERCERT': 'MA==',
          'VIPFLAG': 'MA==',
          'VIRUS': '5Y6f5aeL',
          'WORKINGCOMPANY': '5Y6f5aeL',
          'WRITERPERCENT': 'MA==',
          'XEGUID': 'MDk5MzczMENDQUFENEVCNDk1QjgxREMxQkE1NUU1MTM='
        },
        'studyproperty': {},
        'SampleInfo': [
          {
            'XEGUID': 'MDk5MzczMENDQUFENEVCNDk1QjgxREMxQkE1NUU1MTM=',
            'SAMPLEGUID': 'NjUxOTA3RTQxQTgyNEI2MEIyQzM4REQyOUUxRjM3RUE=',
            'SAMPLETYPE': '5bi46KeE',
            'SAMPLENUMBER': 'MDE=',
            'SAMPLEPART': '6IK/54mp5Y+K5ZGo6L65',
            'PARTCOUNT': 'Mg==',
            'PARTUNIT': '5Z2X',
            'OPERATORID': '55eF55CG5Yy755Sf',
            'OPERATETIME': 'MjAyMC81LzYgMTg6Mzk6MDM=',
            'DISABLEFLAG': 'MA==',
            'SAMPLECOMMENT': '5raI5oGv',
            'SAMPLESTATE': 'MzA=',
            'CONFIRMUSERID': '55eF55CG5Yy755Sf',
            'CONFIRMTIME': 'MjAyMC81LzYgMTg6NDA6MjY=',
            'EMBEDDINGUSERID': '55eF55CG5Yy755Sf',
            'EMBEDDINGTIME': 'MjAyMC81LzYgMTg6NDA6MzE=',
            'FILEOPERATORID': 'MjAyMC81LzYgMTg6NDA6MzE=',
            'FILEOPERATETIME': 'MjAyMC81LzYgMTg6NDA6MzE=',
            'FILEPOSTION': 'MjAyMC81LzYgMTg6NDA6MzE=',
            'FILESAVEFLAG': 'MjAyMC81LzYgMTg6NDA6MzE=',
            'OPERATORNAME': 'MjAyMC81LzYgMTg6NDA6MzE=',
            'SLICECOUNT': 'Ng=='
          },
          {
            'XEGUID': 'MDk5MzczMENDQUFENEVCNDk1QjgxREMxQkE1NUU1MTM=',
            'SAMPLEGUID': 'RDA1MjZBNTYyM0NCNDhDRjhBRUJEQzg4QTE5NkE1NEY=',
            'SAMPLETYPE': '5bi46KeE',
            'SAMPLENUMBER': 'MDI=',
            'SAMPLEPART': '6YCB5qOA5LiL5YiH57q/',
            'PARTCOUNT': 'MQ==',
            'PARTUNIT': '5Z2X',
            'OPERATORID': '55eF55CG5Yy755Sf',
            'OPERATETIME': 'MjAyMC81LzYgMTg6Mzk6MDM=',
            'DISABLEFLAG': 'MA==',
            'SAMPLECOMMENT': 'MA==',
            'SAMPLESTATE': 'MjA=',
            'CONFIRMUSERID': '55eF55CG5Yy755Sf',
            'CONFIRMTIME': 'MjAyMC81LzYgMTg6NDA6MjY=',
            'EMBEDDINGUSERID': '55eF55CG5Yy755Sf',
            'EMBEDDINGTIME': 'MjAyMC81LzYgMTg6NDA6MzE=',
            'FILEOPERATORID': '55eF55CG5Yy755Sf',
            'FILEOPERATETIME': 'MjAyMC81LzEzIDEwOjU0OjEz',
            'FILEPOSTION': 'MDItMzM=',
            'FILESAVEFLAG': 'MQ==',
            'OPERATORNAME': 'MQ==',
            'SLICECOUNT': 'MQ=='
          },
          {
            'XEGUID': 'MDk5MzczMENDQUFENEVCNDk1QjgxREMxQkE1NUU1MTM=',
            'SAMPLEGUID': 'QTQ4MjhCRjgyMEUyNDU3QkFGMkM4QzY0MTlFQjdFMDk=',
            'SAMPLETYPE': '5bi46KeE',
            'SAMPLENUMBER': 'MDM=',
            'SAMPLEPART': '5Lmz5aS0',
            'PARTCOUNT': 'Mg==',
            'PARTUNIT': '5Z2X',
            'OPERATORID': '55eF55CG5Yy755Sf',
            'OPERATETIME': 'MjAyMC81LzYgMTg6NTY6MDI=',
            'DISABLEFLAG': 'MA==',
            'SAMPLECOMMENT': 'MA==',
            'SAMPLESTATE': 'MTA=',
            'CONFIRMUSERID': '55eF55CG5Yy755Sf',
            'CONFIRMTIME': 'MjAyMC81LzYgMTg6NTY6NDY=',
            'EMBEDDINGUSERID': 'MjAyMC81LzYgMTg6NTY6NDY=',
            'EMBEDDINGTIME': 'MjAyMC81LzYgMTg6NTY6NDY=',
            'FILEOPERATORID': 'MjAyMC81LzYgMTg6NTY6NDY=',
            'FILEOPERATETIME': 'MjAyMC81LzYgMTg6NTY6NDY=',
            'FILEPOSTION': 'MjAyMC81LzYgMTg6NTY6NDY=',
            'FILESAVEFLAG': 'MjAyMC81LzYgMTg6NTY6NDY=',
            'OPERATORNAME': 'MjAyMC81LzYgMTg6NTY6NDY=',
            'SLICECOUNT': 'MA=='
          }
        ],
        'DiagnoseInfo': {
          'Diagnose1': '6IK65pyq5YiG5YyW5aSn57uG6IOe55mM44CCDQoNCg==',
          'Diagnose2': '6IK65pyq5YiG5YyW5aSn57uG6IOe55mM44CCDQoNCg==',
          'Diagnose3': '',
          'doctorname1': '病理医生',
          'doctorname2': '病理医生',
          'doctorname3': '',
        }
      }
// 需求，需要对pageData数据中每个属性的值做base64解码
// 按照普通做法得对pageData做一层层的循环，但pageData层次复杂不可控，循环代码难以编写
let Base64 = require('js-base64').Base64;
pageData = JSON.parse(JSON.stringify(pageData, function (key, value) {
    if (value && typeof value === 'string') {
        return Base64.decode(value);
    } else {
        return value;
    }
}));
自此ok!
```

